---
title: 병행성과 병렬성의 차이 및 프로세스 동기화의 필요성
tags: 운영체제
article_header:
type: cover
---

## 병행성(Concurrency)

---

![img.png](concurrency.png)


병행성은 다른 말로 **동시성**이라고 부르는 용어입니다.
이전까지 보았던 싱글 코어에서 프로세스를 처리하기 위해 많은 프로세스들을 **컨텍스트 스위칭**을 통해 효율적으로 프로세스를 처리했던것 기억할것 입니다.
이경우 프로세스를 동시에 처리한다고 표현하지만 사실 이는 빠른 속도로 프로세스를 스위칭해서 실행시키는 것이지 실제로 동시에 실행되는 것은 아닙니다.

동시성의 핵심 키워드는 **동시에 처리되게 보이는것**입니다.

<br>
<br>

## 병렬성(Parallelism)

---

![img.png](parallelism.png)

병렬 처리는 프로그램의 독립적인 작업을 동시에 실행할 수 있는 능력입니다. 이러한 작업은
다른 프로세스 코어 단위에서, 혹은 분산 시스템 처럼 완전히 다른 컴퓨터에서 동시에 실행될 수 도 있습니다.

병렬성의 핵심 키워드는 **실제로 동시에 처리되고 있는것**입니다.


<br>
<br>

## 동기화

---

동시다발적으로 실행되는 프로세스들은 공동의 목적을 수행하기 위해 서로 협력하며 영향을 주고 받기도 합니다.
조금 전 설명했던 **동시성**, **병렬성** 모두 동시다발적으로 수행되는 환경입니다.

이런 환경의 예시를 하나들면, 워드 프로세스가 있습니다. 해당 프로세스는 글을 쓸수도 있고, 쓰여진 글을 읽을 수도 있고,
맞춤법을 검사하는 기능도 있습니다. 하지만 해당 프로세스가 따로 동작하는 것이 아닌 모두 하나의 프로그램처럼 보여지고 있습니다.

이런 상황을 **동시 다발적**이란 표현을 통해 하고, 이런 동시 다발적인 상황의 **수행 시기**를 맞춰주는 것이
**동기화**라고 합니다.

<br>

### 수행 시기를 맞추다?

이전에 설명한 **수행 시기**를 맞추다는 말은 추상적입니다.

이를 두가지 관점으로 볼 수 있습니다.

1. 실행 순서 제어: 프로세스를 올바른 순서대로 실행하는것
2. 상호 배제: 동시에 접근해서는 안 되는 자원에 하나의 프로세스만 접근하는 것

다시 말해 **동기화**는 실행 순서를 제어하는 **동기화**와, **상호 배제**를 위한 동기화가 있습니다.

<br>
<br>

## 1. 실행 순서를 제어하는 동기화

---

![img.png](execution_order.png)

실행 순서를 제어한다는 것은 요리 레시피 순서를 지키는것과 같습니다.
재료를 준비하고, 손질하고, 요리하는 이런 일련의 과정을 지켜 보았을 때
재료 손질이 준비보다 먼저일 수 없고, 요리또한 손질보다 먼저일 수 없습니다.

프로세스도 마찬가지로 무언가를 읽게 하였는데 읽은 대상이 생성 되어있고, 작성되어있어야 합니다.
이런 것을 **실행 순서**라고 표현하며 이것을 지키게 하는 것을 **동기화**라고 표현합니다.


<br>
<br>

## 2. 상호 배제를 위한 동기화

---

**상호 배제**란 공유가 불가능한 자원의 동시 사용을 피하기 위해 사용하는 알고리즘입니다.
여기서 말하는 공유가 불가능한 자원은 실제로 공유하면 안되는 자원이 아닌, 동시 사용하는 경우 문제가 발생하는
자원입니다.

아래 예시를 통해서 보면

![img.png](mutual_exclusion.png)

프로세스A는 현재 잔고에서 2만원을 더하고, 프로세스B는 현재 잔고에서 5만원을 더합니다.
이러한 경우 총합 7만원을 더하는 형태가 될것입니다.

하지만 프로세스A가 값을 더하고(12만원) 저장하기 전에 **콘텍스트 스위칭**이 일어난다면 다음 프로세스B는
저장하기 전 값을 조회하고(10만원) 자신의 값을 저장할것 입니다(15만원).
다시 프로세스 A로 돌아오면 12만원을 저장하고 프로세스 B로 돌아오면 15만원을 저장합니다.
이과정에서 서로의 결과를 무시하는 방향으로 진행되고 최종적으로 마지막에 저장한 값은 다른 프로세스의 결과를
반영하지 않는 상태가 됩니다.

이런 상황은 동시에 사용하는 자원에 대해 **동기화**를 이루지 못해서 발생한 경우이고, 이 경우 **상호 배제를 위한 동기화**
를 진행해야 합니다.

<br>
<br>

## 출처

---

[동시성, 병렬성 출처](https://www.baeldung.com/cs/concurrency-vs-parallelism)
[이미지 출처](https://www.inflearn.com/course/%ED%98%BC%EC%9E%90-%EA%B3%B5%EB%B6%80%ED%95%98%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/dashboard)
