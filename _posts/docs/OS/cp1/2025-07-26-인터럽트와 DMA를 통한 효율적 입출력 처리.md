---
title: 인터럽트와 DMA를 통한 효율적 입출력 처리
tags: 운영체제
article_header:
type: cover
---

## 인터럽트 기반 입출력

---

인터럽트는 컴퓨터 시스템에서 현재 실행 중인 프로세스를 중단 하고, 인터럽트를 발생시킨 작업을 처리하기 위한
방법 혹은 과정 이다. 인터럽트는 CPU의 실행 흐름을 중단시키고 인터럽트가 끝난 후 원래의 흐름으로 돌아가는 방식을 가진다.

인터럽트는 크게 두가지로 나뉘게 되며, 소프트웨어 혹은 하드웨어 인터럽트로 나누어지며 이는 인터럽트를 발생시킨
주체가 무엇인가에 따라 나뉘게 된다.

대표적인 하드웨어 인터럽트는 I/O완료, 대표적인 소프트웨어 인터럽트는 시스템 콜이 있다.

<br>
<br>

![](https://raw.githubusercontent.com/jickDo/picture/master/OS/study/cp1/5/Interrupts.png)

이러한 인터럽트 기반 입출력의 순서를 설명하자면

1. CPU가 입출력 장치에 대해 입출력 요청을 보낸다.
2. CPU는 요청이후 다른 작업을 수행한다.
3. 입출력 장치가 준비되면 인터럽트를 발생시킨다.
4. CPU는 현재 실행 중인 작업을 중단하고 인터럽트 서비스 루틴(ISR)을 실행한다.
5. 데이터를 처리한 후 , CPU는 원래 수행하던 작업을 계속 실행한다.

이러한 인터럽트 기반 입출력의 단점은 인터럽트가 많이 발생하는 상황에서 CPU가 부하될 수 있다는 단점이 있다.


<br>
<br>

## DMA(Direct Memory Access 직접 메모리 접근)

---

DMA방식은 이름에서 볼 수 있듯이 CPU를 사용하지 않고 입출력 장치가 직접 메로리와 데이터를 교환합니다.

이것이 가능한 이유는 DMA 컨트롤러가 존재해, 메모리와 입출력 장치 사이의 데이터를 관리하기 때문입니다.

DMA에서는 CPU가 전송할 데이터의 위치, 포인터, 바이트 크기만 DMA 컨트롤러에 전달하면,
DMA가 입출력 작업을 대신 처리하고 전체 작업이 완료될 때만 CPU에 인터럽트를 보냅니다.
이로 인해 CPU와 여러 입출력 장치가 직접 연결되던 기존 구조에서 CPU-DMA-입출력 장치 구조로 변화했고,
CPU의 가용 시간이 현저히 증가하는 효과를 얻었습니다.
이는 교수가 조교에게 학생 관리를 맡기고 최종 결과만 확인하는 것에 비유할 수 있으며,
현재 DMA는 많은 컴퓨터 장치에서 보편적으로 사용되는 기술이 되었습니다.

<br>
<br>

![](https://raw.githubusercontent.com/jickDo/picture/master/OS/study/cp1/5/DMA.png)

<br>
DMA 방식을 순서로 설명하자면

1. CPU가 DMA 컨트롤러에게 입출력 요청합니다.
2. DMA 컨트롤러가 메모리와 입출력 장치 간의 데이터 전송을 직접 수행합니다.
3. 데이터 전송이 완료되면 DMA 컨트롤러가 인터럽트를 발생 시켜 CPU에게 완료를 알립니다.
4. CPU는 인터럽트를 받아서 필요한 후처리 수행합니다.

<br>
<br>
<br>
