---
title: HTTP 상태 코드를 알아보자
tags: 웹
article_header:
type: cover
---

# 💻 HTTP 상태코드

[##_Image|kage@bfh1ON/btsoU7nUbya/3OpWbJ3Nb0SHciCFH00xl0/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

> -   100번대 오류는 흔한 상태코드가 아니므로 넘어간다.

-   200번대 오류는 성공을 나타내는 상태코드이다.
-   300번대 오류는 추가적인 행동을 요구하는 상태코드이다.
-   400번대 오류는 클라이언트가 오류를 낸경우이다.
-   500번대 오류는 서버가 오류를 낸 경우이다.

---

## 🧩 2xx- 성공

### 🔑 200 OK

[##_Image|kage@whaku/btsoULSKvw0/hPd2klMMgZMDQecdcIVcn0/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

-   클라이어트의 요청이 정상적으로 수행되었을 떄 반환하는 상태코드이다.

### 🔑 201 Created

[##_Image|kage@kznJG/btsoRjJGJYU/DYKdNZZkKdgn6xFkt33K5K/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

-   200번과 마찬가지로 성공을 나타내는 상태코드이지만, 새로운 리소스를 생성하였다는 뜻이다.
    사진에서는 요청이 POST이며, /members 가 컬렉션 형식이므로 201 상태코드를 반환한것이다.

### 🔑 202 Accepted

-   요청이 접수만 되고, 처리는 되지않은 상태이다.
-   배치 처리같은 곳에서 사용한다
-   예를 들어 요청처리후 한시간후에 배치 프로세스가 요청을 처리하는 형태에 사용한다

### 🔑 204 No Content

-   서버가 요청을 성공했지만, 응답 페이로드에 보낼 정보가 없을때 사용한다.
-   예를 들어 문서 편집기에 save버튼 처럼, save를 눌러도 아무 변화가 없을때 주로 사용한다

---

## 🧩 3xx- 리다이렉션

### ❓ **리다이렉션**은 뭔가요??

😆 웹 브라우저는 3xx 응답의 결과에 Location 헤더가 있으면, Location 위치로 자동 이동하는것을 리다이렉션 이라한다.

[##_Image|kage@GYynZ/btsoYOamCzJ/LHLaoV9kzt1JUt0HRWsLu1/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

위 사진을 통해 리다이렉션을 설명하자면, 클라이언트는 /event주소로 GET요청을 하였지만 사실 /event 주소는 예전에 주소이고 서버는 그것을 알고있기 때문에 301 상태코드와 새주소를 반환한다. 클라이언트는 3xx번대 상태코드와 새주소를 받았고 그것을 바탕으로 자동 리타이렉트를 통해 /new-event 주소로 다시 요청을 하게된다.

위와같은 방식이 리다이렉트이다.

# 🔔 리다이렉션은 종류

## 🚩 영구적인 리다이렉션 - 특정 리소스의 URI가 영구적으로 이동한것

### 🔑 301 Moved Permanently

[##_Image|kage@Xckww/btsoYhDI7Kg/x0O16wZxGaQq52nPPPS26K/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

-   기존 URI가 영구적으로 이동한 경우이다.
-   리다이렉트 요청이 요청 메서드가 GET으로 변하고, 본문이 제거 될 수도 있다.
-   여담이지만, 301 초기에는 GET으로 변하고 , 본문이 제거되는 것이 당연한것이 아니였지만 대부분의 브라우저가 그렇게 구현을 하게되어, 표준 스팩이 변한 케이스라고 한다.

### 🔑 **308 Permanent Redirect**

[##_Image|kage@45UOG/btsoRiKLLwQ/yqh5okkPHCyTYzAokoIv01/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

-   301코드와 기능은 같지만 결정적인 차이는 리다이렉트시 **요청메소드**와 **본문**을 유지한다.

---

## 🚩 일시적인 리다이렉션 - 일시적인 변경

### 🔑 **302 Found**

-   리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음

### 🔑 **307 Temporary Redirect**

-   302와 기능은 같다.
-   리다이렉트시 요청 메서드와 본문 유지(요청 메서드를 변경하면 안된다)

### 🔑 **303 See Other**

-   302와 기능은 같다.
-   리다이렉트시 요청 메서드가 GET으로 변경

---

### 💡그래서 3xx번대 코드에서 뭘써야 할까??

> 처음 302 스펙의 의도는 HTTP메서드를 유지하는 것이였는데, 대부분의 웹 브라우저들이 GET으로 바꾸어 버리는 형태를 띄게 되었고, 기능이 모호해진 302를 대체 하기위해 명확한 307, 303이 등장을 하였다.
> 따라서 307, 303을 권장하지만, 현실세계에서는 많은 어플리케이션 라이브러리들이 302를 사용중이다.
> 그리고 자동리다이렉션시 GET으로 변해도 문제가 되는경우가 아니라면 302를 사용해도 문제가 없다.

---

## 🛠 ****PRG: Post/Redirect/Get****

일시적인 리다이렉션 예시로 **PRG**라는 것이있는데, 이를 짚고 넘어가야한다.

> PRG란 무엇일까❓

만약에? POST로 주문후에 웹 브라우저를 **새로고침**하면? 어떤 문제가 발생할까?
웹페이지에서 **새로고침**은 가장 최근에 행동을 다시 요청하는 것인데, 위와같은 경우라면 **“주문”**이 다시 요청이 될것이다. 즉! **중복주문** 이 발생한다.

[##_Image|kage@RkEX1/btsoToKabMJ/kPrYjWibebyLobx8NfdJEK/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

-   위 사진은 중복주문을 모식도로 나타낸것이다.
-   2번 6번 처럼 마우스가 두개 요청이 들어간 문제가 생길수있다.

> 다시 PRG란 물음에 돌아와서, 이러한 문제를 해결하기 위해 PRG를 사용한다.
> POST로 주문후 새로고침을 해도 중복 주문을 방지하고, 주문 후 결과 화면을 GET 메서드로 리다이렉트 하는 방식을 사용한다. 따라서 새로고침을 해도 가장 최근 화면인 결과화면을 가져오게 된다.

[##_Image|kage@ptwrX/btsoToKacWd/gHHkQxwtn4NFe9ASzjKOvk/img.png|CDM|1.3|{"originWidth":0,"originHeight":0,"style":"alignCenter"}_##]

PRG를 모식도로 나타낸 사진이다.
기존 경우와 다르게 3번 응답에서 302 FOUND 코드와 주문 물품에 대한 결과창을 반환하고 클라이언트에게 결과하면을 띄우도록 유도하게 되는것이다. 즉 클라이언트가 새로고침을 해도 /order-result/19 검색결과로 새로고침을 하게되어 중복 주문을 방지한다.

---

## 🚩 기타 리다이렉션

### 🔑 **300 Multiple Choices**

-   300번 코드는 안쓴다고 할 수 있다.

### 🔑 304 Not Modified

-   캐쉬를 목적으로 사용하며, 클라이언트에게 리소스가 수정되지 않았음을 알려준다. 따라서 클라이언트는 로컬PC에 저장된 캐시를 재사용한다.
-   304 응답은 응답에 메시지 바디를 포함하면 안된다. (로컬 캐시를 사용해야 하므로)
-   조건부 GET, HEAD 요청시 사용

---

## 🧩 4xx- 클라이언트 오류

-   클라이언트의 요청에 잘못된 문법등으로 서버가 요청을 수행할 수 없음
-   오류의 원인이 클라이언트에 있음
-   클라이언트가 이미 잘못된 요청, 데이터를 보내고 있기 때문에, 똑같은 재시도가 실패함( 이부분이 서버 오류와 가장 큰차이점)

### 🔑 4****00 Bad Request****

-   클라이언트가 잘못된 요청을 해서 서버가 요청을 수행할 수 없음
-   요청 구문이나 메시지 등등의 오류
-   예) 요청 파라미터가 잘못되거나, API 스펙이 맞지 않을 때

### 🔑 4****01 Unauthorized****

-   클라이언트가 해당 리소스에 대한 인증이 필요함
-   401 오류 발생시 응답에 WWW-Authenticate 헤더와 함께 인증 방법을 설명

### 🔑 4****03 Forbidden****

-   서버가 요청을 이해했지만 승인을 거부함
-   인증은 거쳤지만 권한이 없는 경우에 준함
-   예를들어 일반유저가 어드민 권한이 필요한 리소스에 접근한경우에 발생

### 🔑 ****404 Not Found****

-   요청리소스를 찾을 수 없을때
-   또는 클라이언트가 권한이 부족한 리소스에 접근할 때 해당 리소스를 숨기고 싶을 때( 이 경우는 404을 리턴해서 리소스 자체를 숨기는 기능으로 이용한다는 뜻이다.)

---

## 🧩 5xx- 서버 오류

### 🔑 5****00 Internal Server Error****

-   서버 내부 문제로 발생한 오류
-   애매하면 500번 오류로 처리하게 됨

### 🔑 5****03 Service Unavailable****

-   서버가 일시적인 과부하 또는 예정된 작업으로 잠시 요청을 처리할 수 없음
-   Retry-After 헤더 필드로 얼마뒤에 복구되는지 보낼 수도 있음

---

출처: 김영한님 '모든 개발자를 위한 HTTP 웹 기본지식'
