---
title: 객체지향의 4가지 특징 - 캡슐화
tags: OOP
article_header:
type: cover
---
# 객체지향의 4가지 특징 - 캡슐화

---

코틀린을 메인언어로 사용하다가 최근에 자바를 공부중이였는데 비어있는 개념을 발견하여 이참에 객체지향에 대해 더욱 단단하게 기초를 쌓고자
객체지향 4가지 특징을 정리하고자 한다.

<br><br>

## 캡슐화(Encapsulation)

---

객체는 상태와 행동들을 가지고 있다. 쉽게 예를들면 상태는 멤버변수의 속성값 그리고 행동들은 객체가 가지고있는 메서드가 예시이다.
'객체 지향의 사실과 오해'라는 책의 내용을 빗대어 덧붙이자면, 객체는 책임,역할,협력의 기능을 하고 이중에서 캡슐화를 의미하는 내용은
협력에 일부분에 있다.

객체는 현실세계의 모형과 닮아있으며, 서로가 서로에게 영향을 줄 수 있다.
객체는 서로 협력을 하며 필요에 따라 요청을 하거나, 요청을 받아 행위를 처리하는 일들을 한다. 여기까지 봤을때 문제가 될 수 있는 부분이
다른 객체의 요청이 나의 상태를 의도치 않게 변화 시키거나, 반대로 내행동이 사이드 이펙트를 발생시킬 수 있다는 점이다.

이러한, 스토리의 흐름을 따라가다보면 결국에는 캡슐화의 필요성을 설명하게 된다.

> ### 캡슐화란?
>
>캡슐화는 하나의 객체안에 메서드와 속성값을 캡슐처럼 감싸서 외부에 숨기는 것을 말한다. '객체 지향의 사실과 오해'라는 책에서는
좋은 메서드를 설계하기 위해서 "어떻게" 행위를 수행할지 요청하는것 보다 '무엇을' 수행할지 요청하는게 바람직하다고 말한다.
이말의 뜻은 요청을 보내는 메세지에 상태를 조작할 만한 일을 하지말고 그 요청을 받는 메서드가 자발적으로 본인의 상태를 조절하여
그 값을 돌려주는 방식을 의미한다.

<br><br>

## 어떻게 캡슐화를 설계해?

---

조금전 위에서 캡슐화에 관해 간략한 설명을 하였다. 사실 위에 내용이 캡슐화에 전부이지만 나는 엔지니어이기 때문에 아는것보다
그것을 통해서 유의미한 가치를 뽑아내는것이 더 중요하다고 생각한다. 그래서 캡슐화를 어떻게 설계하고 코드에서 어떻게 구현하는지
더 다루어 볼 예정이다.

<br>

### 최대한 폐쇄적으로 설계하라

최대한 폐쇄적으로 설계하라는 말은 외부에서 접근이 불가능 하게 행위를 하는 자신만 상태를 조절할 수 있게 설계하라는 말이다.
여기서 **'최대한'** 이라고 설명한 이유는 객체지향의 캡슐화를 처음 접하게 되면 속성과 기능을 캡슐에 감추어 정보를 은닉하는 기능이라고
배울것이다. 하지만 실제로 코딩을 하다보면 객체는 협력을 하고 있기 때문에 최소한의 요청을 받는 기능은 열어두어야 한다는 것을 깨닫는다.


그렇다면 여기서 생각해보아야 할점은 캡슐화 정도이다. 최대한 기능과 속성을 감추는데 요청을 받는 기능은 열어두는게 마땅한 기준이 없어
혼란스럽다. 하지만 쉽게 생각해서 객체의 상태는 그것을 가진 객체가 직접변경하도록 유도하여 설계하고 그러한 변경을 가하는 기능에 한해서는
외부에서 사용할 수 있어야 하기 때문에 객체의 속성값은 모두 은닉시키고 다른 객체의 요청을 받는 기능에 한해서는 공개를 허용하여야 한다.


<br><br>

## 캡슐화의 이점

---

캡슐화를 하게 되면 다음과 같은 이점을 얻을 수 있다.

>1. 데이터 은닉 - 구현의 세부사항을 숨기기 때문에 외부에서 접근이나 조작으로 부터 보호가 가능하다.
>2. 모듈성 - 이러한 정보의 은닉은 서로의 의존성을 낮춰 더 세분하게 모듈화를 가능하게 한다.
>3. 유연성 - 모듈성이 좋아짐에 따라 객체지향의 장점인 유연성이 증가한다. (필요에 따라 모듈을 바꾸기 더쉬워져서)

<br><br>

## 접근제어자

---

접근제어자란 자바에서 캡슐화를 가능하게 해주는 기능이다. 클래스, 메서드, 속성 앞에 오게 되면 흔히 알고있는 public이 접근제어자이다.
이것이 붙어있는 것들이 어떤 범위까지 접근을 허용할지 제한을 결정한다.

그렇다면 자바의 접근제어자는 어떤것이 있을까?

1. public - 모든 외부의 호출을 허용한다
2. default(package-private) - 같은 패키지 범위에 있는 것들까지 호출을 허용한다
3. protected - defulat의 범위에서 상속관계의 호출까지 허용한다.
4. private - 모든 외부의 호출을 거부한다.

위와같은 접근제어자는 위에서 말한 내용을 토대로 정보를 은닉하여야 하는 속성값같은 것들은 private로 선언하며 외부에 공개하여야 하는
최소한의 메서드들은 public으로 열어두어야 한다. 또한 메서드를 public을 하게되면 다른 패키지 에서 사용할때 다른 개발자가 고려할 메서드가 늘어나기 때문에
유효성 검증 기능을 다른 메서드 안에서 사용하는 경우 그러한 메서드들은 private로 선언하여 외부에 노출을 막아야한다. 그렇게 함으로써 개발자의 고려사항이 줄어들게 되고
추후에 리팩토링을 할 범위가 줄어들어 더욱 유연한 코드가 되는것이다.

<br><br>

## 결론

---

1. 캡슐화는 외부에 공개하는 것을 감추는것 부터 시작한다.
2. 모든것을 감출수는 없기에 공개할 부분을 신중하게 고려해야 한다.
3. 같은 메서드안에 있는 오류처리나 유효성 검증같은 경우 private를 고려하여 그것을 사용하는 사람으로하여금 혼란을 덜어줘야한다.










